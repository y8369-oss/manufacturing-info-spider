{% extends "base.html" %}

{% block title %}ä¸“åˆ©ä¿¡æ¯ - {{ site_title }}{% endblock %}

{% block extra_js %}
<script>
function searchPatents() {
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();
    const items = document.querySelectorAll('.item-card');

    items.forEach(item => {
        const text = item.textContent.toLowerCase();
        if (text.includes(searchTerm)) {
            item.style.display = 'block';
        } else {
            item.style.display = 'none';
        }
    });
}

document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
        searchInput.addEventListener('input', searchPatents);
    }
});
</script>
{% endblock %}

{% block content %}
<h2 style="margin-bottom: 1rem; color: #333;">ğŸ”¬ ä¸“åˆ©ä¿¡æ¯</h2>

<div class="search-box">
    <input type="text" id="searchInput" placeholder="æœç´¢ä¸“åˆ©æ ‡é¢˜ã€ç”³è¯·äººæˆ–å…³é”®è¯...">
</div>

{% if patents_list %}
    <p style="color: #666; margin-bottom: 1rem;">å…± {{ patents_list|length }} é¡¹ä¸“åˆ©</p>

    {% for patent in patents_list %}
    <div class="item-card">
        <h3>{{ patent.title }}</h3>
        <div class="item-meta">
            <span>ğŸ“‹ ç”³è¯·å·: {{ patent.application_no }}</span>
            {% if patent.publication_no %}
            <span>ğŸ“„ å…¬å¼€å·: {{ patent.publication_no }}</span>
            {% endif %}
        </div>
        <div class="item-meta">
            {% if patent.applicant %}
            <span>ğŸ¢ ç”³è¯·äºº: {{ patent.applicant }}</span>
            {% endif %}
            {% if patent.inventor %}
            <span>âœï¸ å‘æ˜äºº: {{ patent.inventor }}</span>
            {% endif %}
        </div>
        <div class="item-meta">
            {% if patent.application_date %}
            <span>ğŸ“… ç”³è¯·æ—¥: {{ patent.application_date }}</span>
            {% endif %}
            {% if patent.publication_date %}
            <span>ğŸ“… å…¬å¼€æ—¥: {{ patent.publication_date }}</span>
            {% endif %}
        </div>
        {% if patent.abstract %}
        <div class="item-description">{{ patent.abstract }}</div>
        {% endif %}
        {% if patent.keywords %}
        <div class="keywords">
            {% for keyword in patent.keywords %}
            <span class="keyword-tag">#{{ keyword }}</span>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    {% endfor %}
{% else %}
    <div class="empty-state">
        <p>æš‚æ— ä¸“åˆ©æ•°æ®</p>
        <p style="font-size: 0.9rem; margin-top: 1rem;">ç³»ç»Ÿä¼šå®šæœŸæŠ“å–åˆ¶é€ ä¸šç›¸å…³ä¸“åˆ©ï¼Œè¯·ç¨åæŸ¥çœ‹</p>
    </div>
{% endif %}
{% endblock %}
